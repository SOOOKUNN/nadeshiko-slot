<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="ãªã§ã—ã“v1ã‚¹ãƒ­ãƒƒãƒˆã‚²ãƒ¼ãƒ ã®Webç‰ˆã€‚å£ç´™ã¨ã—ã¦ã‚‚æ¥½ã—ã‚ã‚‹ã‚«ã‚¸ãƒã‚¹ãƒ­ãƒƒãƒˆã‚²ãƒ¼ãƒ ">
    <meta name="keywords" content="ã‚¹ãƒ­ãƒƒãƒˆ,ã‚²ãƒ¼ãƒ ,ãªã§ã—ã“,å£ç´™,KAZINO">
    <meta name="author" content="Nadeshiko Slot Game">
    <meta property="og:title" content="KAZINO - ãªã§ã—ã“ã‚¹ãƒ­ãƒƒãƒˆã‚²ãƒ¼ãƒ ">
    <meta property="og:description" content="ãªã§ã—ã“v1ã§ä½œã‚‰ã‚ŒãŸã‚¹ãƒ­ãƒƒãƒˆã‚²ãƒ¼ãƒ ã®Webç‰ˆ">
    <meta property="og:type" content="website">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ°</text></svg>">
    <title>KAZINO - ãªã§ã—ã“ã‚¹ãƒ­ãƒƒãƒˆã‚²ãƒ¼ãƒ </title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            width: 100vw;
            height: 100vh;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            font-family: 'MS Gothic', 'Courier New', monospace;
            overflow: hidden;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* èƒŒæ™¯ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
        @keyframes gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent 30%, rgba(255,215,0,0.05) 50%, transparent 70%);
            background-size: 200% 200%;
            animation: gradient 15s ease infinite;
            pointer-events: none;
        }

        .main-form {
            width: min(1500px, 95vw);
            height: min(1000px, 95vh);
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            position: relative;
            backdrop-filter: blur(10px);
        }

        @media (max-width: 1600px) {
            .main-form {
                transform: scale(var(--scale, 0.9));
            }
        }

        #money-panel {
            position: absolute;
            left: 50px;
            top: 50px;
            width: 600px;
            height: 100px;
            font-size: 50px;
            border: 3px solid #000;
            border-radius: 10px;
            text-align: center;
            line-height: 100px;
            background: linear-gradient(145deg, #ffffff, #f0f0f0);
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            font-weight: bold;
            color: #2c3e50;
        }

        .slot {
            position: absolute;
            width: 150px;
            height: 250px;
            font-size: 150px;
            border: 4px solid #000;
            border-radius: 15px;
            text-align: center;
            line-height: 250px;
            background: linear-gradient(145deg, #fff, #f8f8f8);
            box-shadow: inset 0 4px 10px rgba(0,0,0,0.1), 0 4px 15px rgba(0,0,0,0.3);
            color: #000;
            will-change: contents;
            font-weight: bold;
        }

        #slot0 { left: 125px; top: 400px; }
        #slot1 { left: 390px; top: 400px; }
        #slot2 { left: 635px; top: 400px; }

        #entry-fee {
            position: absolute;
            left: 550px;
            top: 650px;
            width: 400px;
            height: 150px;
            font-size: 28px;
            border: 3px solid #000;
            border-radius: 10px;
            text-align: center;
            line-height: 150px;
            background: linear-gradient(145deg, #fff3cd, #ffe69c);
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            font-weight: bold;
            color: #856404;
        }

        #description {
            position: absolute;
            left: 1000px;
            top: 200px;
            width: 480px;
            height: 780px;
            font-size: 18px;
            border: 3px solid #000;
            border-radius: 10px;
            padding: 20px;
            background: linear-gradient(145deg, #ffffff, #f8f9fa);
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            overflow-y: auto;
            white-space: pre-wrap;
            line-height: 1.6;
            color: #2c3e50;
        }

        #description::-webkit-scrollbar {
            width: 8px;
        }

        #description::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 4px;
        }

        #btn-spin {
            position: absolute;
            left: 175px;
            top: 700px;
            width: 600px;
            height: 250px;
            font-size: 150px;
            background: linear-gradient(145deg, #ffd700, #ffed4e);
            border: 5px outset #b8860b;
            border-radius: 20px;
            cursor: pointer;
            font-family: 'MS Gothic', 'Courier New', monospace;
            font-weight: bold;
            color: #1a1a2e;
            box-shadow: 0 10px 25px rgba(255,215,0,0.4);
            transition: transform 0.1s, box-shadow 0.1s;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        #btn-spin:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(255,215,0,0.6);
        }

        #btn-spin:active {
            border-style: inset;
            transform: translateY(0);
            box-shadow: 0 5px 15px rgba(255,215,0,0.3);
        }

        #btn-777 {
            position: absolute;
            left: 1100px;
            top: 900px;
            width: 300px;
            height: 50px;
            font-size: 28px;
            background: linear-gradient(145deg, #ff6b6b, #ee5a6f);
            border: 3px outset #c92a2a;
            border-radius: 10px;
            cursor: pointer;
            font-family: 'MS Gothic', 'Courier New', monospace;
            font-weight: bold;
            color: #fff;
            box-shadow: 0 4px 15px rgba(255,107,107,0.4);
            transition: transform 0.1s;
        }

        #btn-777:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255,107,107,0.6);
        }

        #btn-777:active {
            border-style: inset;
            transform: translateY(0);
        }

        #popup {
            position: absolute;
            font-size: 50px;
            font-weight: bold;
            pointer-events: none;
            white-space: nowrap;
            transform: translateZ(0);
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        /* ãƒ•ãƒƒã‚¿ãƒ¼æƒ…å ± */
        .footer {
            position: absolute;
            bottom: 10px;
            left: 50px;
            font-size: 14px;
            color: #666;
        }

        /* ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ç”»é¢ */
        #loading {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #1a1a2e;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            transition: opacity 0.5s;
        }

        #loading.hidden {
            opacity: 0;
            pointer-events: none;
        }

        .loader {
            font-size: 80px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .loading-text {
            color: #ffd700;
            font-size: 24px;
            margin-top: 20px;
        }

        /* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ */
        @media (max-width: 1024px) {
            .main-form {
                transform: scale(0.6);
            }
            
            #description {
                font-size: 16px;
            }
        }

        @media (max-width: 768px) {
            .main-form {
                transform: scale(0.4);
            }
        }

        /* ã‚¿ãƒƒãƒãƒ‡ãƒã‚¤ã‚¹å¯¾å¿œ */
        @media (hover: none) {
            #btn-spin:hover,
            #btn-777:hover {
                transform: none;
            }
        }
    </style>
</head>
<body>
    <!-- ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ç”»é¢ -->
    <div id="loading">
        <div class="loader">ğŸ°</div>
        <div class="loading-text">Loading KAZINO...</div>
    </div>

    <div class="main-form">
        <div id="money-panel">100000å††</div>
        <div id="slot0" class="slot"></div>
        <div id="slot1" class="slot"></div>
        <div id="slot2" class="slot"></div>
        <div id="entry-fee">å‚åŠ æ–™ã¯10000å††ã§ã™</div>
        <div id="description">èª¬æ˜æ–‡
ãƒ»åˆ°é”ãƒ¬ãƒ™ãƒ«
1æ®µéšï¼šæ‰€æŒé‡‘100000æœªæº€ã€€å‚åŠ æ–™1000å††
2æ®µéšï¼šæ‰€æŒé‡‘100000ä»¥ä¸Šã€€å‚åŠ æ–™10000å††
3æ®µéšï¼šæ‰€æŒé‡‘10000000ä»¥ä¸Šã€€å‚åŠ æ–™1000000å††
4æ®µéšï¼šæ‰€æŒé‡‘100000000ä»¥ä¸Šã€€å‚åŠ æ–™10000000å††

ãƒ»è©•ä¾¡
å¤§å½“ãŸã‚Šï¼šï¼“ã¤ã®æ•°å­—ãŒãã‚ã£ãŸã¨ãã€€ãã®æ•°å­—Ã—æŒã¡é‡‘ï¼ˆï¼‘ã®æ™‚ã¯100000å††ï¼‰
å½“ãŸã‚Šï¼šï¼’ã¤ã®æ•°å­—ãŒãã‚ã£ãŸã¨ãã€€æœ€å°200å††æœ€å¤§4000å††
ã¯ãšã‚Œï¼šã™ã¹ã¦ã°ã‚‰ã°ã‚‰ã®æ•°å­—ã®ã¨ãã€€æœ€å°0å††æœ€å¤§2000å††
ã€€ã€€
æ‰€æŒé‡‘10000000ä»¥ä¸Šã«ãªã‚‹ã¨çµæœãŒ7å€ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

æ“ä½œæ–¹æ³•ï¼š
ãƒ»ã€ŒæŠ¼ã›!!ã€ãƒœã‚¿ãƒ³ã¾ãŸã¯ã‚¹ãƒšãƒ¼ã‚¹ã‚­ãƒ¼ã§ã‚¹ãƒ”ãƒ³
ãƒ»ã€Œ777ç¢ºå®šãƒœã‚¿ãƒ³ã€ã§å¿…ãš777ãŒæƒã„ã¾ã™</div>
        <button id="btn-spin">æŠ¼ã›!!</button>
        <button id="btn-777">777ç¢ºå®šãƒœã‚¿ãƒ³</button>
        <div id="popup"></div>
        <div class="footer">Nadeshiko v1 Slot Game - Web Version</div>
    </div>

    <script>
        'use strict';

        // ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°å®Œäº†å‡¦ç†
        window.addEventListener('load', () => {
            setTimeout(() => {
                document.getElementById('loading').classList.add('hidden');
            }, 500);
        });

        // ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ã‚¹ã‚±ãƒ¼ãƒ«èª¿æ•´
        let resizeTimer;
        function adjustScale() {
            const width = window.innerWidth;
            if (width <= 768) {
                document.documentElement.style.setProperty('--scale', '0.4');
            } else if (width <= 1024) {
                document.documentElement.style.setProperty('--scale', '0.6');
            } else if (width <= 1600) {
                const scale = Math.min(width / 1500, 1);
                document.documentElement.style.setProperty('--scale', scale);
            }
        }
        
        window.addEventListener('resize', () => {
            clearTimeout(resizeTimer);
            resizeTimer = setTimeout(adjustScale, 100);
        });
        adjustScale();

        // ã‚²ãƒ¼ãƒ å¤‰æ•°
        let M = 100000;
        let isSpinning = false;

        // è¦ç´ ã‚­ãƒ£ãƒƒã‚·ãƒ¥
        const el = {
            moneyPanel: document.getElementById('money-panel'),
            slots: [
                document.getElementById('slot0'),
                document.getElementById('slot1'),
                document.getElementById('slot2')
            ],
            entryFee: document.getElementById('entry-fee'),
            btnSpin: document.getElementById('btn-spin'),
            btn777: document.getElementById('btn-777'),
            popup: document.getElementById('popup')
        };

        // ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
        const sleep = ms => new Promise(resolve => setTimeout(resolve, ms));
        const random = max => (Math.random() * max | 0) + 1;

        // ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—è¡¨ç¤º
        async function showPopup(text, color, x, y, duration = 30) {
            el.popup.style.color = color;
            el.popup.style.left = x + 'px';
            el.popup.textContent = text;
            
            let frame = 0;
            const animate = () => {
                if (frame >= duration) {
                    el.popup.textContent = '';
                    return;
                }
                el.popup.style.top = (y + frame) + 'px';
                frame++;
                requestAnimationFrame(animate);
            };
            
            requestAnimationFrame(animate);
            await sleep(duration * 10);
        }

        // å‚åŠ æ–™è¨ˆç®—
        const getEntryFee = () => 
            M > 99999999 ? 10000000 :
            M > 9999999 ? 1000000 :
            M > 99999 ? 10000 : 1000;

        // ã‚¹ãƒ­ãƒƒãƒˆå›è»¢
        async function spinAnimation(is777 = false) {
            let S = 0, T = 0, T1 = 0, T2 = 0;
            let Text = 'ã‚´', TextC = 0;

            el.btnSpin.style.fontSize = '75px';

            const results = [0, 0, 0];

            while (S < 30) {
                results[0] = random(7);
                results[1] = random(7);
                results[2] = random(7);

                if (S > 25) {
                    await sleep(T * 1000);
                    el.slots[0].textContent = results[0];
                    await sleep(T1 * 1000);
                    el.slots[1].textContent = results[1];
                    await sleep(T2 * 1000);
                    el.slots[2].textContent = results[2];
                    
                    T += 0.01;
                    T1 += 0.05;
                    T2 += 0.1;
                } else {
                    el.slots[0].textContent = results[0];
                    el.slots[1].textContent = results[1];
                    el.slots[2].textContent = results[2];
                }

                S++;

                Text += 'ã‚¬â€¦';
                el.btnSpin.textContent = Text;
                TextC++;
                if (TextC > 9) {
                    Text = '';
                    TextC = 0;
                }

                await sleep(25);
            }

            if (is777) {
                el.slots[0].textContent = '7';
                el.slots[1].textContent = '7';
                el.slots[2].textContent = '7';
                return [7, 7, 7];
            }

            return results;
        }

        // ç‚¹æ»…æ¼”å‡º
        async function blinkSlots() {
            const colors = ['#ff0000', '#0000ff', '#ffff00', '#000000'];
            for (let i = 0; i < 3; i++) {
                for (const color of colors) {
                    el.slots[0].style.color = color;
                    el.slots[1].style.color = color;
                    el.slots[2].style.color = color;
                    await sleep(200);
                }
            }
        }

        // çµæœåˆ¤å®š
        async function judgeResult(a, b, c) {
            let MT = 0;

            if (a === b && b === c) {
                MT = a === 1 ? 100000 : M * a - M;
                await blinkSlots();
            } else {
                const key = a === b ? a : b === c ? b : a === c ? a : 0;

                if (key > 0) {
                    const prizes = [0, 200, 500, 1000, 1500, 2000, 3000, 4000];
                    MT = prizes[key] || 4000;
                } else {
                    const p = a + b + c;
                    MT = p <= 10 ? 0 :
                         p <= 27 ? 50 :
                         p <= 49 ? 100 :
                         p <= 80 ? 200 :
                         p <= 120 ? 500 :
                         p <= 180 ? 1000 : 2000;
                }
            }

            M += MT;
            el.moneyPanel.textContent = M + 'å††';

            await showPopup(
                (MT < 0 ? '' : '+') + MT + 'å††',
                '#ff0000', 650, 30, 30
            );
        }

        // ãƒ¡ã‚¤ãƒ³ã‚¹ãƒ”ãƒ³
        async function mainSpin(is777 = false) {
            if (isSpinning) return;
            isSpinning = true;

            const Mpop = getEntryFee();
            M -= Mpop;
            el.moneyPanel.textContent = M + 'å††';
            el.entryFee.textContent = 'å‚åŠ æ–™ã¯' + Mpop + 'å††ã§ã™';

            await showPopup('-' + Mpop + 'å††', '#0067c0', 650, 10, 30);

            const results = await spinAnimation(is777);
            await judgeResult(...results);

            await sleep(1000);
            el.btnSpin.style.fontSize = '150px';
            el.btnSpin.textContent = 'æŠ¼ã›!!';
            isSpinning = false;
        }

        // ã‚¤ãƒ™ãƒ³ãƒˆè¨­å®š
        el.btnSpin.addEventListener('click', () => mainSpin(false), { passive: true });
        el.btn777.addEventListener('click', () => mainSpin(true), { passive: true });

        // ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰æ“ä½œ
        let keyPressed = false;
        document.addEventListener('keydown', (e) => {
            if (e.code === 'Space' && !isSpinning && !keyPressed) {
                e.preventDefault();
                keyPressed = true;
                mainSpin(false);
            }
        }, { passive: false });

        document.addEventListener('keyup', (e) => {
            if (e.code === 'Space') keyPressed = false;
        }, { passive: true });

        // ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
        window.addEventListener('beforeunload', () => {
            clearTimeout(resizeTimer);
        });

        // Google Analyticså¯¾å¿œæº–å‚™ï¼ˆå¿…è¦ã«å¿œã˜ã¦æœ‰åŠ¹åŒ–ï¼‰
        /*
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'YOUR-GA-ID');
        */
    </script>
</body>
</html>
